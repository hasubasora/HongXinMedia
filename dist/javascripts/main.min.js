"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ajaxlog(t){$.ajax({type:"POST",url:"/FunUser/UserBalanceLog",data:{type:t},dataType:"json",success:function(t){layer.open({type:2,shadeClose:!1}),1==t.Status?($(".payUp").remove(),$("[name=TotalRecharge]").text(t.Result.RechargeTotal.toFixed(2)),$("[name=TotalDraw]").text(t.Result.WithdrawalsTotal.toFixed(2)),t.Result.TotalItems.length&&(new deal_list(t.Result.TotalItems).init(),new deal_list(t.Result.RechargeItems).init2(),new deal_list(t.Result.DrawItems).init3()),layer.closeAll()):layer.open({content:"获取数据失败，请刷新页面！",skin:"msg",time:2})}})}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ajaxlog(t){$.ajax({type:"POST",url:"/trade/GetTradeLog",data:{dateType:t},dataType:"json",success:function(t){1==t.Status&&($(".payUp").remove(),$(".numtext").text(t.Result.length),new trade(t).init())}})}function hrefs(t,e){$(t).on("click",function(){window.location.href=e})}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function timeout(){setTimeout(function(){$(".wx_mb").show()},99999)}function isWeiXin(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),jo={DrawItems:[],RechargeItems:[],RechargeTotal:32412,TotalItems:[{Amount:"111",Date:"2017/22/11",Time:"12:55",Type:"提现",TypeId:1},{Amount:"2222",Date:"2017/23/13",Time:"12:55",Type:"充值",TypeId:0},{Amount:"-3333",Date:"2017/23/13",Time:"12:55",Type:"提现",TypeId:1}],WithdrawalsTotal:80723},deal_list=function(){function t(e){_classCallCheck(this,t),this.n=e}return _createClass(t,[{key:"maps",value:function(){for(var t=this.n.length,e={},n=[],o=0;o<t;o++){var a=this.n[o];if(e[a.Date])for(var i=0;i<n.length;i++){var s=n[i];if(s.Date==a.Date){s.data.push(a);break}}else n.push({Date:a.Date,data:[a]}),e[a.Date]=a}this.ays=n}},{key:"payUp",value:function(){var t=(this.ays.length,""),e="",n=!0,o=!1,a=void 0;try{for(var i,s=this.ays[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var r=i.value;t+='<div class="payUp"><div class="dates">'+r.Date+'<img src="../images/dade.png" alt=""></div>';var l=!0,c=!1,u=void 0;try{for(var d,f=r.data[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var y=d.value;Number(y.Amount)>0&&(e="oranges"),Number(y.Amount)<0&&(e="greens"),t+='<div class="payMsg"><span>'+y.Time+"</span><span data-uid="+y.TypeId+">"+y.Type+'</span><span class="'+e+'">'+y.Amount+"</span></div>"}}catch(t){c=!0,u=t}finally{try{!l&&f.return&&f.return()}finally{if(c)throw u}}t+="</div>"}}catch(t){o=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return t}},{key:"init",value:function(){this.maps();var t=this.payUp(),e=document.createElement("div");e.innerHTML=t,document.querySelector(".lately1").appendChild(e)}},{key:"init2",value:function(){this.maps();var t=this.payUp(),e=document.createElement("div");e.innerHTML=t,document.querySelector(".lately2").appendChild(e)}},{key:"init3",value:function(){this.maps();var t=this.payUp(),e=document.createElement("div");e.innerHTML=t,document.querySelector(".lately3").appendChild(e)}}]),t}();window.onload=function(){var t=0;ajaxlog(t),$(".selected").on("change",function(e){t=$(this).val(),ajaxlog(t),$(".selected").find("option[value='"+t+"']").attr("selected",!0)})};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),setChart=function(){function t(e){_classCallCheck(this,t),this.setJsons=e,this.str=""}return _createClass(t,[{key:"setNumber",value:function(t,e){var n=/\d+/g,o=this.str.match(n),a="<tr><td>"+t+"</td><td>"+e+"</td>";return e<=13&&(a+="<td></td><td><span class='dx'></span></td>",e%2==0&&(a+="<td></td><td><span class='ds'></span></td><td></td><td><span class='dxds'></td><td></td><td></td>"),e%2!=0&&(a+="<td><span class='ds'></span></td><td></td><td></td><td></td><td></td><td><span class='dxds'></td>")),e>=14&&e<=27&&(a+="<td><span class='dx'></span></td><td></td>",e%2==0&&(a+="<td></td><td><span class='ds'></td><td><span class='dxds'></td><td></td><td></td><td></td>"),e%2!=0&&(a+="<td><span class='ds'></td><td></td><td></td><td></td><td><span class='dxds'></td><td></td>")),-1!=this.smoothly(Number(o[0]),Number(o[1]),Number(o[2]))?a+="<td><span class='bzsz'></td><td></td></tr>":Number(o[0])==Number(o[1])&&Number(o[1])==Number(o[2])&&Number(o[2])==Number(o[0])?a+="<td></td><td><span class='bzsz'></td></tr>":a+="<td></td><td></td></tr>",a}},{key:"smoothly",value:function(t,e,n){return t+1==e&&e+1==n?1:t-1==e&&e-1==n?1:-1}},{key:"init",value:function(){var t="",e=!0,n=!1,o=void 0;try{for(var a,i=this.setJsons.Result[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var s=a.value;this.str=s.LotteryType,t+=this.setNumber(s.Period,s.WinnerNumber)}}catch(t){n=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw o}}document.querySelector(".tbody").innerHTML=t}}]),t}();window.onload=function(t){$.post("/trade/GetHistoryLotryNum",function(t){new setChart(t).init()})};var capital={init:function(){ranking.tabs(".sub",".lately","active");$.ajax({type:"POST",url:"http://192.168.168.46/FunUser/UserBalanceLog",data:{type:1},dataType:"json",success:function(t){}})},list:function(t){Date,Time,Typeid,Type}},ranking={init:function(){this.tabs(".sub",".ran_list","act")},tabs:function(t,e,n){for(var o=document.querySelectorAll(t),a=document.querySelectorAll(e),i=0;i<o.length;i++)o[i].addEventListener("touchstart",function(){for(var t=0;t<o.length;t++)o[t].index=t,o[t].classList.remove(n),a[t].classList.add("none");this.classList.add(n),a[this.index].classList.remove("none")})}},payMsgs={init:function(){$.each($(".payMsg"),function(t,e){$(".payMsg").eq(t).on("touchstart",function(){$(".transaction_detail").eq(t).slideToggle(),$(".rightPic").eq(t).hasClass("transform90")?$(".rightPic").eq(t).removeClass("transform90"):$(".rightPic").eq(t).addClass("transform90")})})}},lotteries={init:function(){var t=this;this.opens(1),$(".lotteryBtn").on("touchstart",function(){$(".openBox").removeClass("none")}),$(".close").on("touchstart",function(){$(".openBox").addClass("none"),t.closes()})},opens:function(t){$.each($(".boxList li"),function(e,n){$(".boxList li").eq(e).on("touchstart",function(){t>0&&$(".boxList li").eq(e).addClass("open")})})},closes:function(){$.each($(".boxList li"),function(t,e){$(".boxList li").eq(t).removeClass("open")})}},filter={unhtml:function(t){return t?t.replace(/[<">']/g,function(t){return{"<":"&lt;",'"':"&quot;",">":"&gt;","'":"&#39;"}[t]}):""},verificationPhone:function(t,e){return t?e||/^0?1[3|4|5|7|8][0-9]\d{8}$/.test(t):""},unBlank:function(t){return t?t.replace(/\s/gi,""):""},character:function(t,e){return t?e||/[\{\}\[\]|、\\:;：；‘’\'\"“”\<\>?《》？，。、$*￥#~`!！@\%\^\…\&\*\(\)\_\+\-\=【】]/g.test(t):""},isEmoji:function(t){for(var e=0;e<t.length;e++){var n=t.charCodeAt(e);if(55296<=n&&n<=56319){if(t.length>1){var o=t.charCodeAt(e+1),a=1024*(n-55296)+(o-56320)+65536;if(118784<=a&&a<=128895)return!0}}else if(t.length>1){var o=t.charCodeAt(e+1);if(8419==o)return!0}else{if(8448<=n&&n<=10239)return!0;if(11013<=n&&n<=11015)return!0;if(10548<=n&&n<=10549)return!0;if(12951<=n&&n<=12953)return!0;if(169==n||174==n||12349==n||12336==n||11093==n||11036==n||11035==n||11088==n)return!0}}},countDown:function(t){var e=60;timer=setInterval(function(){e>0?(t.attr("disabled",!0).val("("+e+")倒计时").css("background","#ccc"),e--):(clearInterval(timer),t.attr("disabled",!1).val("获取验证码").css("background","#eeeeee"),e=60)},1e3)},countdowns:function(t){var e=60,n=setInterval(function(){e>0?(t.setAttribute("style","pointer-events: none"),filter.inputs(t,e+"s"),e--):(clearInterval(n),t.removeAttribute("style"),filter.inputs(t,"获取验证码"),e=60)},1e3)},inputs:function(t,e){"INPUT"==t.tagName?t.value=e:"BUTTON"==t.tagName&&(t.innerText=e)}};window.onload=function(){for(var t=(new footerflex([{t:"首页",n:"home",i:"icon-icon-test"},{t:"邀请",n:"invite",i:"icon-yaoqing5"},{t:"团队",n:"team",i:"icon-duidui"},{t:"我的",n:"my",i:"icon-wode"}],"/Game/").init(),window.screen.width,document.querySelectorAll(".swiper_slide")),e=document.querySelector(".swiper_button_next"),n=document.querySelectorAll(".sub"),o=0,a=0;a<n.length;a++)n[a].index=a,n[a].onclick=function(){o=this.index;for(var e=0;e<n.length;e++)t[e].classList.add("none"),n[e].classList.remove("active");this.classList.add("active"),t[this.index].classList.remove("none")};$(e).on("click",function(){$("#yq_ul li").eq(o).addClass("active")}),$("#yq_ul li").on("click",function(){})};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),trade=function(){function t(e){_classCallCheck(this,t),this.n=e}return _createClass(t,[{key:"init",value:function(){this.strings(this.n[0].Result);var t=document.createElement("div"),e=document.querySelector(".lately");t.className="payUp tet",t.innerHTML='<div class="jdates dates">'+this.n[0].Result[0].CreateDate+'<img src="../images/dade.png" alt=""></div>'+this.strings(this.n[0].Result),e.appendChild(t)}},{key:"strings",value:function(t){var e=this,n=t,o="",a="",i="";return n.forEach(function(t){t.WinnerAmount<0?(i="亏损",a="greens"):(i="盈利",a="oranges"),o+='<div class="payMsg"><span>'+t.LotterTime+'开奖</span><span class="'+a+'">'+i+"</span><span>"+i+":"+t.WinnerAmount+'<img class="rightPic" src="../images/right.png" alt=""></span></div>\n            <div class="transaction_detail"> \n            <aside><span>订单号：'+t.TradeId+"</span><span>开盘数字:"+t.WinNumber+"</span></aside>"+e.strings_list(t.LstTradeLogItem)+"</div>"}),o}},{key:"strings_list",value:function(t){var e='<div class="transaction_detail_list">';return t.forEach(function(t){e+="<aside><span>竞猜："+t.BuyType+"</span><span>下单金额："+t.BuyAmount+"元</span><span>盈利率："+t.WinRate+"</span></aside>"}),e+="</div>"}}]),t}();window.onload=function(){var t=0;ajaxlog(t),$(".selected").on("change",function(e){t=$(this).val(),ajaxlog(t),$(".selected").find("option[value='"+t+"']").attr("selected",!0)}),$.each($(".payMsg"),function(t,e){$(".payMsg").eq(t).on("touchstart",function(){$(".transaction_detail").eq(t).toggle(),$(".rightPic").eq(t).hasClass("transform90")?$(".rightPic").eq(t).removeClass("transform90"):$(".rightPic").eq(t).addClass("transform90")})})},window.onload=function(){function t(){$("body").on("touchmove",function(t){t.preventDefault()}),$(".q_a").on("click",function(){localStorage.removeItem("onload"),location.reload()}),"False"==$("#IsRegister").val()?$("body").on("touchstart",function(t){t.stopPropagation(),$(".loginBox").removeClass("scale"),$(".loginBox").removeAttr("style")}):(hrefs(".new_money","/Game/lotteries"),hrefs(".mock_trading",""),hrefs(".billboard","/game/Ranking"),hrefs(".home_footer","/Game/Start"),hrefs(".m_pay","/Game/Start"),hrefs(".m_play","/Views/Game/appdownload.html"),hrefs(".home_wx_draw_money","/Views/Game/appdownload.html"),hrefs("#playBtn","/Views/Game/strategy.html"))}var e=window.screen.height/2;window.screen.height;$(".redBox-m").css({marginTop:e-70}),"true"==localStorage.onload&&($(".openAminates").addClass("none"),$(".openAminates").remove(),$(".loginBox").load("/Views/Game/login.html"),t()),$.each($(".openAminatesList>li"),function(e,n){if("true"!=localStorage.onload){if($(".openAminates").removeClass("none"),$(this).hasClass("GoToPlay"))return localStorage.onload="true",!1;$("#Bid").val();n.addEventListener("touchstart",function(){n.classList.add("none"),$(".openAminatesList>li").size()-1==e&&($(".loginBox").load("/Views/Game/login.html"),t(),localStorage.onload="true",$(".openAminates").addClass("none"),hrefs(".GoToPlay","/Game/Home"))})}}),document.querySelectorAll(".menu-li").forEach(function(t){t.addEventListener("click",function(e){if("False"==$("#IsRegister").val())$(".loginBox").removeClass("scale"),$(".loginBox").removeAttr("style"),e.stopPropagation();else{var n=t.getAttribute("data-key");location.href="/Game/"+n}},!1)})},function(t,e,n){function o(t){this.opts=n.extend(!0,{},a,t),this.doing=!1,this.init()}var a={rotateNum:5,body:"",disabledHandler:function(){},clickCallback:function(){},KinerLotteryHandler:function(t){}};o.prototype.setOpts=function(t){this.opts=n.extend(!0,{},a,t),this.init()},o.prototype.init=function(){var t=this;this.CanPlayCount=0,this.defNum=360*this.opts.rotateNum,n.ajax({async:!1,type:"POST",url:"/RedBag/PlayRedBag",data:{bid:2},dataType:"json",success:function(e){t.CanPlayCount=e.Result.CanPlayCount,1==e.Status&&(n(".CanPlayCount").html(e.Result.CanPlayCount),t.CanPlayCount=e.Result.CanPlayCount)}}),n(".redz").on("click",".KinerLotteryBtn",function(){if(0!=t.CanPlayCount)if(n(this).hasClass("start")&&!t.doing)t.opts.clickCallback.call(t);else{var e=n(this).hasClass("no-start")?"noStart":n(this).hasClass("completed")?"completed":"illegal";t.opts.disabledHandler(e)}}),n(this.opts.body).find(".KinerLotteryContent").get(0).addEventListener("webkitTransitionEnd",function(){t.doing=!1;var e=n(t.opts.body).attr("data-deg");0==t.opts.direction?(n(t.opts.body).attr("data-deg",360-e),n(t.opts.body).find(".KinerLotteryContent").css({"-webkit-transition":"none",transition:"none","-webkit-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"}),t.opts.KinerLotteryHandler(360-e)):(n(t.opts.body).attr("data-deg",e),n(t.opts.body).find(".KinerLotteryContent").css({"-webkit-transition":"none",transition:"none","-webkit-transform":"rotate("+-e+"deg)",transform:"rotate("+-e+"deg)"}),t.opts.KinerLotteryHandler(e))},!1)},o.prototype.goKinerLottery=function(t){if(!this.doing){var e=t+this.defNum,o=0==this.opts.direction?e:-e;this.doing=!0,n(this.opts.body).find(".KinerLotteryBtn").addClass("doing"),n(this.opts.body).find(".KinerLotteryContent").css({"-webkit-transition":"all 5s",transition:"all 5s","-webkit-transform":"rotate("+o+"deg)",transform:"rotate("+o+"deg)"}),n(this.opts.body).attr("data-deg",t)}},t.KinerLottery=o}(window,document,$);var whichAward=function(t){return t>45&&t<=90||t>225&&t<=270?"1.8元":t>90&&t<=135||t>=0&&t<=45?"8元":t>135&&t<=180||t>270&&t<=315?"10元":t>180&&t<=225||t>180&&t<=360?"2元":void 0},KinerLottery=new KinerLottery({rotateNum:8,body:"#hbbox",direction:0,disabledHandler:function(t){t},clickCallback:function(){var t=this;$.ajax({async:!1,type:"POST",url:"/RedBag/RedBagResult",data:{bid:$("#Bid").val()},dataType:"json",success:function(e){if(1==e.Status)switch(e.Result){case 0:t.goKinerLottery(Math.floor(45*Math.random()+0));break;case 1:t.goKinerLottery(Math.floor(45*Math.random()+45));break;case 2:t.goKinerLottery(Math.floor(45*Math.random()+90));break;case 3:t.goKinerLottery(Math.floor(45*Math.random()+135));break;case 4:t.goKinerLottery(Math.floor(45*Math.random()+180));break;case 5:t.goKinerLottery(Math.floor(45*Math.random()+225));break;case 6:t.goKinerLottery(Math.floor(45*Math.random()+270));break;case 7:t.goKinerLottery(Math.floor(45*Math.random()+315))}},error:function(t){}})},KinerLotteryHandler:function(t){$(".redBox").css({transform:"scale(1)",transition:".3s"}),$(".redBox-m").text(whichAward(t))}}),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),login=function(){function t(e,n){_classCallCheck(this,t),this.url=e,this.url2=n,this.tel=document.querySelector("#n_login_tel"),this.cq_Btn=document.querySelector("#n_login_cq_btn"),this.cq_Msg=document.querySelector("#n_login_cq"),this.login_btn=document.querySelector("#n_login_submit"),this.login_close=document.querySelector(".n_login_close")}return _createClass(t,[{key:"init",value:function(){var t=this;this.login_close.addEventListener("click",function(){},!1),this.cq_Btn.addEventListener("click",function(){t.login_phone(t.cq_Btn)},!1),this.login_btn.addEventListener("click",function(){t.login_submit()},!1),this.cq_Msg.addEventListener("input",function(e){t.login_btn.removeAttribute("disabled"),t.login_btn.classList.add("n_login_submit_red")})}},{key:"login_phone",value:function(t){this.tel.value?filter.verificationPhone(this.tel.value)?$.ajax({type:"post",cache:!1,contentType:"application/json; charset=utf-8",url:this.url,data:JSON.stringify({Mobile:this.tel.value}),dataType:"json",error:function(t,e){},success:function(e){1==e.Status?(filter.countdowns(t),layer.open({content:"验证码已发送",skin:"msg",time:2})):layer.open({content:e.Msg,skin:"msg",time:2})}}):layer.open({content:"请输入正确手机号",skin:"msg",time:2}):layer.open({content:"请输入手机号",skin:"msg",time:2})}},{key:"login_submit",value:function(){this.cq_Msg.value&&this.tel.value?filter.verificationPhone(this.tel.value)&&$.ajax({type:"post",cache:!1,contentType:"application/json; charset=utf-8",url:this.url2,data:JSON.stringify({Mobile:this.tel.value,Code:this.cq_Msg.value}),dataType:"json",error:function(t,e){},success:function(t){layer.open({content:t.Msg,skin:"msg",time:2}),1==t.Status&&(setTimeout(function(){location.reload()},2e3),$("#IsRegister").val("True"))}}):this.tel.value?this.cq_Msg.value||layer.open({content:"请输入验证码",skin:"msg",time:2}):layer.open({content:"请输入手机号",skin:"msg",time:2})}}]),t}(),logins={tel:document.querySelector("#tel"),cq_Btn:document.querySelector(".cq_Btn"),cq_Msg:document.querySelector(".cq_Msg"),login_btn:document.querySelector(".login_btn"),login_close:document.querySelector(".login_close"),init:function(){var t=this;$(".loginBox").on("click",".cq_Btn",function(){t.tel.value?filter.verificationPhone(t.tel.value)?$.ajax({type:"post",cache:!1,contentType:"application/json; charset=utf-8",url:"/WeiXin/SendMsg",data:JSON.stringify({Mobile:t.tel.value}),dataType:"json",error:function(t,e){},success:function(t){1==t.Status?(filter.countdowns(logins.cq_Btn),layer.open({content:"验证码已发送",skin:"msg",time:2})):layer.open({content:t.Msg,skin:"msg",time:2})}}):layer.open({content:"请输入正确手机号",skin:"msg",time:2}):layer.open({content:"请输入手机号",skin:"msg",time:2})}),$(".login_btn").on("click",function(e){if(t.cq_Msg.value&&t.tel.value){if(filter.verificationPhone(t.tel.value)){var n=$("#Bid").val();$.ajax({type:"post",cache:!1,contentType:"application/json; charset=utf-8",url:"/FunUser/Register",data:JSON.stringify({Mobile:t.tel.value,Code:t.cq_Msg.value,Bid:n}),dataType:"json",error:function(t,e){},success:function(t){layer.open({content:t.Msg,skin:"msg",time:2}),1==t.Status&&(setTimeout(function(){location.reload()},2e3),$("#IsRegister").val("True"))}})}}else t.tel.value?t.cq_Msg.value||layer.open({content:"请输入验证码",skin:"msg",time:2}):layer.open({content:"请输入手机号",skin:"msg",time:2})}),$(this.login_close).on("click",function(t){$(".loginBox").addClass("scale"),t.stopPropagation()})}},lotteries={init:function(){var t=this;$.ajax({async:!1,type:"POST",url:"http://rap.taobao.org/mockjsdata/28289/RedBag/PlayRedBag",dataType:"json",success:function(e){t.CanPlayCount=e.Result.CanPlayCount,1==e.Status?($("#NewMoneySum").html(e.Result.CanPlayCount),$(".NewMoneySum").html("您还有 "+e.Result.CanPlayCount+" 次机会"),t.CanPlayCount=e.Result.CanPlayCount,t.opens(e.Result.CanPlayCount)):layer.open({content:"网络错误，请刷新页面！",skin:"msg",time:2})}}),$(".lotteryBtn").on("touchstart",function(){$(".openBox").removeClass("none")}),$(".close").on("touchstart",function(){$(".openBox").addClass("none"),t.closes()})},redBagLog:function(t){var e="",n="",o=document.querySelector(".drawRecord");$.ajax({async:!1,type:"POST",url:"RedBag/RedBagLog",dataType:"json",success:function(t){e=t.Result},error:function(t){layer.open({content:"网络错误，请刷新页面！",skin:"msg",time:2})}}),e.Result.forEach(function(t){n+='<article class="drawRecordList"> <span>'+t.Date+"</span><span>"+t.Time+"</span><span>"+t.Type+'</span><span class="reds">+'+t.Amount+"</span></article>"}),o.innerHTML=n},opens:function(t){$.each($(".boxList li"),function(e,n){$(".boxList li").eq(e).on("touchstart",function(n){n.preventDefault(),t>0?($(".boxList li").eq(e).addClass("open"),$.ajax({async:!1,type:"POST",url:"/RedBag/RedBagResult",dataType:"json",success:function(t){switch(t.Result){case 0:layer.open({content:"恭喜你获得2元红包！",btn:["继续抽奖","去竞猜"],shadeClose:!1,yes:function(t){location.reload(),layer.close(t)},no:function(t){layer.close(t),window.location.href="/Game/Start"}});break;case 1:layer.open({content:"恭喜你获得10元红包！",btn:["继续抽奖","去竞猜"],shadeClose:!1,yes:function(t){location.reload(),layer.close(t)},no:function(t){layer.close(t),window.location.href="/Game/Start"}});break;case 2:layer.open({content:"恭喜你获得1.8元红包！",btn:["继续抽奖","去竞猜"],shadeClose:!1,yes:function(t){location.reload(),layer.close(t)},no:function(t){layer.close(t),window.location.href="/Game/Start"}});break;case 3:layer.open({content:"恭喜你获得2元红包！",btn:["继续抽奖","去竞猜"],shadeClose:!1,yes:function(t){location.reload(),layer.close(t)},no:function(t){layer.close(t),window.location.href="/Game/Start"}});break;case 4:layer.open({content:"恭喜你获得10元红包！",btn:["继续抽奖","去竞猜"],shadeClose:!1,yes:function(t){location.reload(),layer.close(t)},no:function(t){layer.close(t),window.location.href="/Game/Start"}});break;case 5:layer.open({content:"恭喜你获得8元红包！",btn:["继续抽奖","去竞猜"],shadeClose:!1,yes:function(t){location.reload(),layer.close(t)},no:function(t){layer.close(t),window.location.href="/Game/Start"}});break;case 6:layer.open({content:"恭喜你获得1.8元红包！",btn:["继续抽奖","去竞猜"],shadeClose:!1,yes:function(t){location.reload(),layer.close(t)},no:function(t){layer.close(t),window.location.href="/Game/Start"}});break;case 7:_this.redHub(8)}}})):layer.open({content:"您没有抽奖的机会！",btn:"我知道了"})})})},closes:function(){$.each($(".boxList li"),function(t,e){$(".boxList li").eq(t).removeClass("open")})},redHub:function(t){layer.open({content:"恭喜你获得"+t+"元红包！",btn:["继续抽奖","去竞猜"],shadeClose:!1,yes:function(t){location.reload(),layer.close(t)},no:function(t){layer.close(t),window.location.href="/Game/Start"}})}};lotteries.init();var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),footerflex=function(){function t(e,n){_classCallCheck(this,t),this.home=e,this.url=n}return _createClass(t,[{key:"app_menu",value:function(){var t="",e=document.createElement("menu"),n=document.createElement("ul");e.className="bottom_menu",n.className="menu",document.body.appendChild(e),e.appendChild(n),this.home.forEach(function(e){t+='<li class="menu-li" data-key="'+e.n+'"><i class="iconfont '+e.i+'"></i> <p>'+e.t+"</p></li>"}),n.innerHTML=t}},{key:"app_url",value:function(){var t=this;document.querySelectorAll(".menu-li").forEach(function(e){e.addEventListener("click",function(n){var o=e.getAttribute("data-key");location.href=""+t.url+o},!1)})}},{key:"app_for",value:function(){}},{key:"init",value:function(){this.app_menu(),this.app_url(),this.app_for()}}]),t}(),footerfle=new footerflex([{t:"首页",n:"home",i:"icon-icon-test"},{t:"邀请",n:"invite",i:"icon-yaoqing5"},{t:"团队",n:"team",i:"icon-duidui"},{t:"我的",n:"my",i:"icon-wode"}],"/Game/");footerfle.init();var plays=document.querySelectorAll(".plays"),n=0;!function(){plays.forEach(function(t){t.addEventListener("click",function(){try{document.querySelectorAll("[type=radio]").forEach(function(t){t.parentNode.classList.remove("act")}),t.children[1].querySelector("[type=radio]").checked=!0,t.children[1].querySelector("[type=radio]").parentNode.classList.add("act");var e=t.children[1].querySelector("[type=radio]").id,o=e.match(/\d/);n=Number(o[0])}catch(t){}},!1)})}();var playPayer=document.querySelector("#play-payer"),money=document.querySelectorAll(".money li");!function(){for(var t=0;t<money.length;t++)money[t].addEventListener("click",function(){for(var t=0;t<money.length;t++)money[t].classList.remove("active");var e=this.getAttribute("data-mo");document.querySelector(".dets").innerHTML="充值金额￥"+e+"元",this.classList.add("active")},!1)}(),playPayer.addEventListener("click",function(){switch(money.forEach(function(t){t.classList.contains("active")}),n){case 1:n=1;break;case 2:n=2;break;case 3:n=3;break;default:n=0}},!1),window.onload=function(t){outMoney.init()};var outMoney={init:function(){self=this;var t=document.querySelector(".moneys"),e=document.querySelector(".outMoney"),n=document.querySelector(".outMoneyNum"),o=/\d+\.\d+/gi;e.addEventListener("click",function(e){t.value=n.textContent.match(o),self.moneys()},!1),self.getPay(),$("#cqBtn").on("click",function(){self.getCode(this)}),$(".close").on("click",function(){window.history.go(-1)}),$(".releCq").on("input",function(){$(".releCq").val()?$(".GoPay").removeClass("pointer").addClass("blues"):$(".GoPay").removeClass("blues").addClass("pointer")}),$(".moneys").on("input",function(){self.moneys()}),$(".GoPay").on("click",function(){var t=filter.unBlank($(".releCq").val()),e=filter.unBlank($(".zfbPay").val());t&&e?layer.open({content:"请检查你的支付账号是否正确“"+e+"”",btn:["正确","不正确"],yes:function(n){self.goPay($(".tel").val(),t,e),layer.close(n)}}):layer.open({content:"请输入支付宝号",skin:"msg",time:2})}),$("#tx").on("click",function(){self.Withdraw($(".moneys").val(),$("#userNum").val())})},moneys:function(){$(".moneys").val()?$("#tx").removeClass("pointer").addClass("blue"):$("#tx").removeClass("blue").addClass("pointer")},getPhone:function(){$.ajax({type:"POST",url:"http://rap.taobao.org/mockjsdata/28289/Draw/SaveAliPayAccount",data:{name:"John",location:"Boston"},dataType:"json"}).done(function(t,e,n){1==t.Status?$(".tel").val(t):layer.open({content:"获取手机号失败",skin:"msg",time:2})}).fail(function(t,e,n){})},getCode:function(t){layer.open({type:2,shadeClose:!1}),$.ajax({type:"POST",url:"http://rap.taobao.org/mockjsdata/28289/Draw/SaveAliPayAccount",data:{tel:"John"},dataType:"json"}).done(function(e,n,o){1==e.Status?(layer.open({content:"发送成功",skin:"msg",time:2}),filter.countdowns(t),setTimeout(function(){layer.closeAll()},2e3)):(layer.open({content:"发送失败",skin:"msg",time:2}),setTimeout(function(){layer.closeAll()},2e3))}).fail(function(t,e,n){layer.open({content:"发送失败",skin:"msg",time:2}),setTimeout(function(){layer.closeAll()},2e3)})},goPay:function(t,e,n){$.ajax({type:"POST",url:"http://rap.taobao.org/mockjsdata/28289/Draw/SaveAliPayAccount",data:{tel:"John"},dataType:"json"}).done(function(t){1==t.Status?($(".userNameBox").hide(),$("#userNum").val(n)):layer.open({content:"网络异常",skin:"msg",time:2})}).fail(function(t,e,n){layer.open({content:"网络异常",skin:"msg",time:2})})},getPay:function(){$.ajax({type:"POST",url:"http://rap.taobao.org/mockjsdata/28289/Draw/SaveAliPayAccount",dataType:"json"}).done(function(t){1==t.Status?t?t&&$("#userNum").val(t):($(".userNameBox").show(),self.getPhone()):layer.open({content:"网络异常",skin:"msg",time:2})}).fail(function(t,e,n){layer.open({content:"网络异常",skin:"msg",time:2})})},Withdraw:function(t,e){layer.open({type:2,shadeClose:!1}),$.ajax({type:"POST",url:"http://rap.taobao.org/mockjsdata/28289/Draw/SaveAliPayAccount",data:{name:"John",location:"Boston"},dataType:"json"}).done(function(t,e,n){1==t.Status?(layer.open({content:"提交成功",skin:"msg",time:2}),filter.countdowns(btn),setTimeout(function(){layer.closeAll()},2e3)):(layer.open({content:"提交失败",skin:"msg",time:2}),setTimeout(function(){layer.closeAll()},2e3))}).fail(function(t,e,n){layer.open({content:"提交失败",skin:"msg",time:2}),setTimeout(function(){layer.closeAll()},2e3)})}};!function(){var t=document.getElementsByTagName("html")[0],e=window.screen.width;window.onresize=function(){var n=document.body.offsetWidth;t.style.fontSize=n/e*16+"px"}}(),function(t){t.fn.flowtype=function(e){var n=t.extend({maximum:9999,minimum:1,maxFont:9999,minFont:1,fontRatio:23.44},e),o=function(e){var o=t(e),a=o.width(),i=a>n.maximum?n.maximum:a<n.minimum?n.minimum:a,s=i/n.fontRatio,r=s>n.maxFont?n.maxFont:s<n.minFont?n.minFont:s;o.css("font-size",r+"px")};return this.each(function(){var e=this;t(window).resize(function(){o(e)}),o(this)})}}(jQuery),$("html").flowtype({}),$(function(){$.ajax({type:"POST",url:"http://rap.taobao.org/mockjsdata/28289/Draw/SaveAliPayAccount",data:{name:"John",location:"Boston"},dataType:"json"}).done(function(t){timeout()}).fail(function(t){}),$(".reload").on("click",function(t){isWeiXin()&&(window.location.href="")})});